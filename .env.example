
# ============================================
# GENFITY ONLINE ORDERING SYSTEM
# Environment Configuration Template
# ============================================

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA&sslmode=MODE
#
# Development (local):
# DATABASE_URL="postgresql://postgres:password@localhost:5432/genfity_dev?schema=genfity"
#
# Production (with SSL):
# DATABASE_URL="postgresql://user:password@db.example.com:5432/genfity_prod?schema=genfity&sslmode=require"
#
DATABASE_URL=""

# ============================================
# JWT AUTHENTICATION
# ============================================
# IMPORTANT: Generate a strong secret for production!
# Use this command: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Minimum 32 characters recommended
JWT_SECRET="your_super_secret_jwt_key_min_32_characters_long_CHANGE_THIS_IN_PRODUCTION"

# Access token expiry in seconds (default: 1 hour = 3600)
JWT_EXPIRY="3600"

# Refresh token expiry in seconds (default: 7 days = 604800)
JWT_REFRESH_EXPIRY="604800"

# ============================================
# EMAIL / SMTP CONFIGURATION
# ============================================
# SMTP server host
# Examples:
#  - Gmail: smtp.gmail.com
#  - SendGrid: smtp.sendgrid.net
#  - Mailgun: smtp.mailgun.org
#  - AWS SES: email-smtp.us-east-1.amazonaws.com
SMTP_HOST=""

# SMTP port
# Common ports: 587 (TLS), 465 (SSL), 25 (unsecured)
SMTP_PORT="465"

# Use TLS/SSL (true for port 465, false for port 587)
SMTP_SECURE="true"

# SMTP authentication username
# For Gmail: your-email@gmail.com
# For SendGrid: apikey
SMTP_USER=""

# SMTP authentication password
# For Gmail: Use App Password (not your regular password)
# For SendGrid: Your API key
SMTP_PASS=""

# Email sender address
SMTP_FROM_EMAIL=""

# Email sender name
SMTP_FROM_NAME="Genfity Order"

# Skip SMTP verify on startup (useful during build)
SKIP_SMTP_VERIFY="false"

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Application environment
# Values: development, production, test
NODE_ENV="development"

# Application port (default: 3000)
PORT="3000"

# Frontend URL (for email links, CORS, etc.)
# Development: http://localhost:3000
# Production: https://yourdomain.com
FRONTEND_URL="http://localhost:3000"

# Public-facing URL (used in emails and QR codes)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================
# ORDER SERVICES (GO API + WS)
# ============================================
# Base URLs for the Go services consumed by Next.js
NEXT_PUBLIC_ORDER_API_BASE_URL="http://localhost:8086"
NEXT_PUBLIC_ORDER_WS_URL="ws://localhost:8086"

# ============================================
# RABBITMQ (Optional)
# ============================================
# Enables async email/webpush job queues when set.
# Example: amqp://user:pass@rabbitmq-host:5672/vhost
RABBITMQ_URL=

# RabbitMQ daemon worker tuning (only used by `pnpm worker:rabbitmq`)
RABBITMQ_WORKER_MAX=50
RABBITMQ_WORKER_IDLE_SLEEP_MS=2000
RABBITMQ_WORKER_ERROR_SLEEP_MS=10000

# Internal flag used by the worker process to avoid enqueue recursion.
# Do not set this manually.
# RABBITMQ_WORKER=1

# ============================================
# LOCALIZATION
# ============================================
# Default currency for new merchants
# Examples: USD, IDR, EUR, GBP, AUD
NEXT_PUBLIC_CURRENCY="AUD"

# Default language
# Examples: en, id
NEXT_PUBLIC_LANGUAGE="en"

# ============================================
# SECURITY CONFIGURATION
# ============================================
# bcrypt rounds for password hashing
# Development: 10, Production: 12-14 (higher = more secure but slower)
BCRYPT_ROUNDS="10"

# CORS allowed origins (comma-separated for multiple)
# Development: http://localhost:3000
# Production: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGIN="http://localhost:3000"

# ============================================
# CLOUDFLARE TURNSTILE (NOT A ROBOT)
# ============================================
# Used to protect login/register pages.
#
# NEXT_PUBLIC_TURNSTILE_SITE_KEY
# - Public key (safe to expose to browser)
# - Required to render widget on client
#
# TURNSTILE_SECRET_KEY
# - Secret key (server-side only)
# - When set, APIs will REQUIRE turnstileToken and verify it.
#
# Get keys from Cloudflare Dashboard:
# Turnstile -> Add site -> choose widget type -> copy Site key + Secret key
NEXT_PUBLIC_TURNSTILE_SITE_KEY=
TURNSTILE_SECRET_KEY=

# ============================================
# PUBLIC ORDER TRACKING (TOKENIZED)
# ============================================
# HMAC secret used to mint/verify public tracking tokens.
# IMPORTANT: set a strong random value in production.
# Use this command: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ORDER_TRACKING_TOKEN_SECRET="CHANGE_THIS_IN_PRODUCTION"

# ============================================
# FILE UPLOAD (Optional - if implemented)
# ============================================
# Cloudflare R2 (S3-compatible) storage
R2_ACCOUNT_ID=""
R2_ACCESS_KEY_ID=""
R2_SECRET_ACCESS_KEY=""
R2_BUCKET="genfity-order"
R2_PUBLIC_BASE_URL="https://cdn.genfity.com"
# Optional override (default uses account ID)
R2_S3_ENDPOINT="https://<ACCOUNT_ID>.r2.cloudflarestorage.com"
R2_STORAGE_CLASS="STANDARD"

# Maximum file size in bytes (5MB = 5242880)
MAX_FILE_SIZE="5242880"

# Upload directory path
UPLOAD_DIR="./uploads"

# Analytics (example: Google Analytics)
# NEXT_PUBLIC_GA_MEASUREMENT_ID="G-XXXXXXXXXX"

# Error Tracking (example: Sentry)
# SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"

# ============================================
# DEVELOPMENT TOOLS
# ============================================
# Prisma Studio port (default: 5555)
# PRISMA_STUDIO_PORT="5555"

# Enable query logging (development only)
# DATABASE_LOGGING="true"


CRON_SECRET="your-secret-key"

NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=